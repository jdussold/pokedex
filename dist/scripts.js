const pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("pokemon is not correct")}function o(){return t}function n(t){pokemonRepository.loadDetails(t).then(function(){let e=$(".row"),o=$('<div class="card bg-light border-dark text-center mx-auto m-3 list-group-item-action" style="width:300px"  data-toggle="modal" data-target="#modal"></div>'),n=$('<img class="card-img-top mx-auto" alt="Card image" style="width:30%" />');n.attr("src",t.imageUrlFront);let i=$('<div class="card-body"></div>'),l=$("<h4 class='card-title' >"+t.name+"</h4>"),r=$('<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal">See Profile</button>');e.append(o),o.append(n),o.append(i),i.append(l),i.append(r),r.on("click",function(e){a(t)}),o.on("click",function(e){a(t)})})}function a(t){pokemonRepository.loadDetails(t).then(function(){i(t)})}function i(t){let e=$(".modal-body"),o=$(".modal-title");o.empty(),e.empty();let n=$("<h1>"+t.name+"</h1>"),a=$('<img class="modal-img" style="width:50%">');a.attr("src",t.imageUrlFront);let i=$('<img class="modal-img" style="width:50%">');i.attr("src",t.imageUrlBack);let l=$("<p>Height: "+t.height+"</p>"),r=$("<p>Types: "+t.types+"</p>"),s=$("<p>Abilities: "+t.abilities+"</p>");o.append(n),e.append(a),e.append(i),e.append(l),e.append(r),e.append(s)}return $("#searchBar").keyup(e=>{$(".card");let o=e.target.value.toLowerCase(),a=t.filter(t=>t.name.toLowerCase().includes(o));$(".card").css("display","none"),a.forEach(function(t){n(t),console.log(a)})}),{add:e,getAll:o,addListItem:n,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=90").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let o={name:t.name,detailsUrl:t.url};e(o)})}).catch(function(t){console.error(t)})},loadDetails:function t(e){let o=e.detailsUrl;return fetch(o).then(function(t){return t.json()}).then(function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.types=[];for(let o=0;o<t.types.length;o++)e.types.push(" "+t.types[o].type.name);e.abilities=[];for(let n=0;n<t.abilities.length;n++)e.abilities.push(" "+t.abilities[n].ability.name)}).catch(function(t){console.error(t)})},showModal:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});